<html lang="fr">
   <head>
      <meta charset="utf-8">
      <title>Administration - Geoloc</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.min.css" />
      <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css" />
   </head>
   <body>
      <div class="container">
         <nav class="my-3">
            <ol class="breadcrumb bg-transparent">
               <li><a href="/manuels/french/admin.html"><img class="me-3 ms-n3" width="32px" height="32px" src="/images/admin/message_npds.png" alt="logo_npds" loading="lazy" /></a></li>
               <li class="breadcrumb-item"> <a href="/manuels/french/men_gen.html">Menu</a></li>
               <li class="breadcrumb-item"><a href="/manuels/french/men_modules.html">Menu modules</a></li>
               <li class="breadcrumb-item active" aria-current="page" >Geoloc</li>
            </ol>
         </nav>
         <hr class="mt-n3" />
         <h3>Administration - Geoloc</h3>

         <h4>Paramètres système</h4>
         <h5>Champ de table pour latitude et longitude</h5>
         <p>Présentent les champs disponibles dans la base de données pour le stockage des latitudes et longitudes des membres du site. </p>
         <h5>Géolocalisation des IP</h5>
         <p>
         Cette option permet d'activer ou de désactiver :<br />
          - le stockage dans la base de donnée des IP des visiteurs anonymes,leur géolocalisation le nombre de visites et leur position de visite sur le site<br />
          - l'affichage de ces données dans l'interface<br />
          NB : cette option peut ralentir considérablement l'affichage de la carte (si vous êtes connecté administrateur et que votre base contient beaucoup de ligne (> à 10 000 IP)) et stocker au fil du temps beaucoup de données dans la base. Vous pouvez à tout moment vider la base.<br />
         </p>
         <p>
         <b>Comment ça marche :</b><br />
         Le géoréférencement de l'ip est fourni par différents fournisseurs et vient compléter la base de données du site. <br />
         On utilise 4 fournisseurs de geolocalisation d'ip :<br />
         <a href="https://ipapi.co" target="_blank">https://ipapi.co</a> ==> max 1000 requêtes par jour, 30 000 par mois<br />
         <a href="https://api.ipdata.co" target="_blank">https://api.ipdata.co</a> => necessite une clef d'api  ==> max 1 500 requêtes par jour<br />
         <a href="https://extreme-ip-lookup.com" target="_blank">https://extreme-ip-lookup.com</a> ==> max 20 requêtes par minute, 50 000 par mois<br />
         <a href="http://ip-api.com" target="_blank">http://ip-api.com</a> ==> max 150 requêtes par minute (banissement)<br />
         Tous ces fournisseurs ont une limite d'utilisation gratuite d'ou leur nombre pour pouvoir assurer un fonctionnement continu restant dans la gratuité...<br />
         </p>
          
         <h5>Clef d'API Ipdata</h5>
         <p>
         Cette clef est facultative elle permet d'utiliser les données de ipdata.co vous pouvez l'obtenir ici :<br />
         <a href="https://ipdata.co/sign-up.html" target="_blank">https://ipdata.co/sign-up.html</a>
         </p>
          
         <h4>Interface carte</h4>
         <h5>Clef d'API Bing maps</h5>
         <p>Cette clef permet d'utiliser les données de Bing maps. Si vous souhaiter utiliser ces données aller à https://www.bingmapsportal.com et suivre le procédé (création d'un compte puis obtention d'une clef)... et remplissez le champ.</p>
         <h5>Clef d'API Mapbox</h5>
         <p>Cette clef (facultative) permet d'utiliser les données de Mapbox. Si vous souhaiter utiliser ces données aller à https://www.mapbox.com et suivre le procédé (création d'un compte puis obtention d'une clef) ... et remplissez le champ.</p>
         <h5>Type de carte</h5>
         <p>Vous pouvez définir ici le fond de carte par défaut, en fonction des fournisseurs à votre disposition et des clef d'API que vous aurez obtenu</p>
         <ul>
            <li>OpenStreetMap
               <ul>
                  <li>Plan (OpenStreetMap)</li>
               </ul>
            </li>
            <li>Stamen
               <ul>
                  <li>Noir et blanc (Stamen)</li>
                  <li>Dessin (Stamen)</li>
                  <li>Relief (Stamen)</li>
               </ul>
            </li>
            <li>Mapbox  <span class="text-danger"><== clef d'API requise</span>
               <ul>
                  <li>Relief (Mapbox)</li>
                  <li>Carte (Mapbox)</li>
               </ul>
            </li>
            <li>Bing maps  <span class="text-danger"><== clef d'API requise</span>
               <ul>
                  <li>Plan (Bing maps)</li>
                  <li>Satellite (Bing maps)</li>
                  <li>Satellite et label (Bing maps)</li>
               </ul>
            </li>
            <li>Google maps
               <ul>
                  <li>Satellite(Google maps)</li>
               </ul>
            </li>
         </ul>

         <h5>Unité des coordonnées</h5>
         <p>Permet de définir l'affichage par défaut des coordonées</p>
            <ul>
               <li>dms : degrés minutes secondes (ex : 52°28' 58" S | 9°29' 32" E)</li>
               <li>dd : degrés décimaux (ex : 63.391522 | 146.953125) </li>
            </ul>
         <h5>Type de marqueur</h5>
         <p>
         Vous pouvez choisir entre deux types d'icônes qui représenteront :
         <ul> 
            <li>les membres du site non connecté</li>
            <li>les membres du site connecté</li>
            <li>les anonymes connecté</li> 
         </ul>
         NB : les icônes pour les IP ne sont pas paramétrables.<br />
         </p>
         <p>
            <b>1. Des images au format png, gif (gif animé non supporté), jpeg.</b><br />
            Celles ci sont stockées à l'adresse défini dans le chemin des images les paramètres (supra). Vous pouvez choisir les images que vous souhaitez et ajuster leur dimension finale d'affichage sur la carte dans les champs largeur et hauteur.<br />
         </p>
         <p class="bg-light p-3">Par défaut : 
            <img class="me-2" src="/modules/geoloc/images/mbg.png" alt="icon membre en ligne" loading="lazy" />
            <img class="me-2" src="/modules/geoloc/images/mbcg.png" alt="icon membre" loading="lazy" />
            <img class="me-2" src="/modules/geoloc/images/acg.png" alt="icon anonyme" loading="lazy" />
         </p>
         <p>
            <b>2. Des webfont (fontawesome).</b><br />
            Vous pouvez donc choisir dans la liste proposée...
            <ul class="text-body-secondary">
               <li><span class="fa fa-lg align-center fa-fw">&#xf007;</span> <span>Utilisateur</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf2bd;</span> <span>Utilisateur en cercle</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf0c0;</span> <span>Utilisateurs</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf004;</span> <span>Coeur</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf08d;</span> <span>Punaise</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf111;</span> <span>Cercle</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf030;</span> <span>Appareil photo</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf13d;</span> <span>Ancre</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf041;</span> <span>Marqueur carte</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf072;</span> <span>Avion</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf005;</span> <span>Etoile</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf015;</span> <span>Maison</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf024;</span> <span>Drapeau</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf05b;</span> <span>Croix</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf069;</span> <span>Astérisque</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf06d;</span> <span>Flamme</span></li>
               <li><span class="fa fa-lg align-center fa-fw">&#xf075;</span> <span>Commentaire</span></li>
            </ul>
            ... et ajuster la couleur, l'opacité du fond et des traits, et la dimension finale d'affichage sur la carte dans les champs largeur et hauteur.
         </p>
         <p class="bg-light p-3">
            Par défaut : 
            <span style="color:rgba(225, 29, 75, 0.87);" class="fa fa-lg align-center fa-fw me-2">&#xf007;</span>
            <span style="color:rgba(237, 68, 151, 0.89);" class="fa fa-lg align-center fa-fw me-2">&#xf007;</span>
            <span style="color:rgba(32, 32, 26, 0.89);" class="fa fa-lg align-center fa-fw">&#xf007;</span>
         </p>

         <h4>Interface bloc</h4>
         <p>Vous pouvez définir ici pour le bloc :
            <ul> 
               <li>le fond de carte (cf supra dans Interface carte)</li> 
               <li>l'icone , (adresse définie dans le chemin des images (cf supra dans Paramètres)), et ses dimensions</li>
               <li>la hauteur du bloc</li>
               <li>le facteur de zoom</li>
            </ul>
         </p>
         <p class="bg-light p-3">Par défaut : 
            <img class="me-2" src="/modules/geoloc/images/mbcg.png" alt="icon membre" loading="lazy" />
         </p>
         <p class="border-top mt-4 text-end pt-2"><img class="me-2" width="32px" height="32px" src="/images/admin/message_npds.png" alt="logo_npds" loading="lazy"><span class="text-body-secondary font-italic small float-end">NPDS - Geoloc Manuel administration</span></p>
      </div>
   </body>
</html>
