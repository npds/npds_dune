<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8" />
      <title>Administration - Blocks</title>
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <link rel="stylesheet" href="../../lib/bootstrap/dist/css/bootstrap.min.css" />
      <link rel="stylesheet" href="../../lib/font-awesome/css/all.min.css" />
   </head>
   <body>
      <div class="container">
         <nav class="my-3">
            <ol class="breadcrumb bg-transparent">
               <li><a href="admin.html"><img class="me-3 ms-n3" width="32" height="32" src="../../images/admin/message_npds.png" alt="logo_npds" /></a></li>
               <li class="breadcrumb-item"><a href="men_gen.html">Menu</a></li>
               <li class="breadcrumb-item"><a href="men_inter.html">Interface</a></li>
               <li class="breadcrumb-item active">Blocks</li>
            </ol>
         </nav>
         <hr class="mt-n3" />
         <h3 class="mb-3">Blocks</h3>

         <p>NPDS allows you to display blocks (or boxes) on the side of your website.<br />
         NPDS (with an appropriate theme) allows to display blocks on most pages.</p>
         <p><strong>A Block can be visible only to administrators, members, or groups, for Anonymous only or visible by everyone.</strong>.</p>

         <h4>Modify block</h4>
         <p>Change the required informations inside the block and select the appropriate action, then click on <i>OK</i>.<br />
         You can only modify one block at a time.</p>

         <h4>Delete block</h4>
         <p>Select the block and select <i>delete block,</i>, then click on <i>OK</i>.<br />
         You can only delete one block at a time.</p>

         <h4>Create block (left or right)</h4>
         <p>Enter its title, its <strong>index</strong> (allows a sorted display) and its content then click on<i>Create a block ...</i>.
         <br />
         By default the new block is activated automatically.</p>
         <hr />


         <h4>Block and SuperCache</h4>
         <ul>
            <li>Blocks are "SuperCached" and can be activated or deactivated without changing themes config files.<br />
            A block with a cache time of 0 (zero) won't be cached.</li>
            <li>Blocks have an online help that can be used using the 'contextual-help' module (or leave it blank for no help). </li>
         </ul>
         <br />
         
         <h4>NPDS has an extended block system that allows to display :</h4>
         <ul>
            <li> HTML (if you want to create a bloc that support HTML / select the HTML option)</li>
            <li>Javascript</li>
            <li>PHP and/or SSI (Serveur Side Include)</li>
            <li>PHP / NPDS function</li>
         </ul>
         <p>If you need to include code you must respect this syntax :
         <ul>
            <li>For PHP and/or SSI code :
               <ul>
                  <li><strong>include#your_folder/your_file.php</strong> (without ', without ").</li>
                  <li>your_file.php Must be a php file ! and the display (no echo "..."; but $content.="...";) Must be in <strong>$content</strong>.</li>
               </ul>
            </li>
            <li>For PHP and/or NPDS Functions :
               <ul>
                  <li><strong>function#votre_fonction</strong> => function#Xblock (sans ', sans ", sans () et sans ;).</li>
                  <li>Si votre fonction dispose de param&egrave;tres :
               <ul>
               <li><strong>function#votre_fonction</strong> => function#XNews (sans ', sans ", sans () et sans ;).</li>
               <li><strong>params#votre_param</strong> => params#5,10,false (sans ', sans " mais s&eacute;par&eacute;s par des virgules).<br />
               par exemple :
                  <ul>
                  <li>function#category</li>
                  <li>function#oldNews</li>
                  <li>params#$storynum</li><br />
                  <li>function#RecentForumPosts</li>
                  <li>params#Forums Infos,15,0,false,10,false,-:&nbsp;</li>
                  </ul>
                  </li>
               </ul>
            </li>
            <li>Vous pouvez aussi mettre les 2 phases :
               <ul>
               <li><strong>include#votre_repertoire/votre_fichier.php</strong> (sans ', sans ").</li>
               <li><strong>function#votre_fonction</strong> => function#XNews (sans ', sans ", sans () et sans ;).</li>
               <li><strong>params#votre_param</strong> => params#5,10,false (sans ', sans " mais s&eacute;par&eacute;s par des virgules).<br />
               <span class="text-info">Ce qui vous permet de charger un code et de l'&eacute;x&eacute;cuter !</span></li>
               </ul>
            </li>
            </ul>
            </li>
         </ul>


         <h4>Block CSS</h4>
         <p><strong>class-title#nom</strong> d'une classe dans votre fichier CSS.<br />
         <strong>class-content#nom</strong> d'une classe dans votre fichier CSS.<br />
         <span class="text-info">Ces lignes permettent d'associer pour CHAQUE BLOC une CSS (titre et contenu) !</span>
         <ul>
         <li>Theme-Dynamic dispose de deux nouveaux meta-mots : B_class_title et B_class_content qui
         peuvent &ecirc;tre utilis&eacute;s dans le code de bloc.html</li>
         <li>Les th&egrave;mes PHP disposent de deux nouvelles variables : $B_class_title et $B_class_content
         qui peuvent &ecirc;tre 'import&eacute;es' dans la fonction themesidebox (via un global ...)<li>
         </ul>
         </p>


         <h4>Block CSS Specific</h4>
         <p>Pour avoir la css specifique, il faut :
         <ul>
         <li>cocher la case dans l'administration</li>
         <li>noter l'id du bloc</li>
         <li>declarer les id et class dans le fichier style.css ou bien ajouter une css via le gestionnaire (pages.php de votre theme)</li>
         </ul>
         <br />
         <p>Exemple css sur un bloc en particulier, ici le bloc gauche ID 2 :
         <code><p>
         #LB_2 .LB_title {<br />
            color: #FF0000;<br />
            font-family: Georgia, "Times New Roman", serif;<br />
            font-size: 1.25em;<br />
            font-weight: bold;<br />
            height: 21px;<br />
            text-align: center;<br />
            line-height: 21px;<br />
         }<br />
         #LB_2 .LB_contain ul {<br />
            list-style: none;<br />
            width: 150px;<br />
            margin:0px;<br />
            padding:0px;<br />
         }<br />
         #LB_2 .LB_contain li {<br />
            margin:0;<br />
            padding:0;<br />
         }<br />
         #LB_2 .LB_contain li a {<br />
            min-height: 1.5em;<br />
            height: auto !important;<br />
            height: 1.5em;<br />
            line-height: 1.5em;<br />
            margin: 1px 0px 1px 0px;<br />
            padding: 0px 5px 0px 5px;<br />
            border-bottom: solid 1px #C8C8C8;<br />
            border-left: solid 10px #427FBC;<br />
            color: #646464;<br />
            text-decoration: none;<br />
            font-weight: normal;<br />
            font-size: 1em;<br />
         }<br />
         #LB_2 .LB_contain li a:hover {<br />
            border-left: solid 10px #cccccc;<br />
            background: #f0f0f0;<br />
            font-weight: bold;<br />
            color: #000000;<br />
            text-decoration: none;<br />
         }</p></code>

         </p>


         <h4>Block URI :</h4>
         <p><strong>uri#uris_s&eacute;par&eacute;es_par_un_espace</strong> pour n'afficher le bloc que sur les URI cit&eacute;es.<br />
         Le temps de r&eacute;tention doit-&ecirc;tre &eacute;gal &agrave; z&eacute;ro dans ce cas.<br />
         Exemple : uri#index.php user.php forum.php static.php?op=statik.txt&npds=1<br />
         Le tag uri# permet l'utilisation du joker * : par exemple : viewforum.php?forum=* ou viewtopic.php?topic=*&forum=10
         <br />
         <span class="text-warning">Cette syntaxe est la seule support&eacute;e !</span>
         </p>

         <h4>Hidden Block</h4>
         <p><strong>hidden#...</strong> pour ne pas afficher le th&egrave;me des blocs mais charger le contenu.<br />
         Cela permet d'utiliser le syst&egrave;me de bloc pour 'charger' des javascripts, des fichiers PHP, des fichiers CSS...<br />
         Exemple : hidden#&lt;script type=&quot;text/javascript&quot; src=&quot;lib/yui/build/yui/yui-min.js&quot;&gt;&lt;/script&gt;<br />
         <span class="text-warning">Cette syntaxe est la seule support&eacute;e !</span>
         </p>
         <p class="border-top mt-5"><img class="me-3 mt-n4" width="32" height="32" src="../../images/admin/message_npds.png" alt="logo_npds" /><span class="text-muted font-italic small float-end">NPDS - Administration manual</span></p>
      </div>
   </body>
</html>